# --- Registry configuration ---
# Default to npmjs for everything not otherwise scoped.
registry=https://registry.npmjs.org/

# Example: JSR registry only for @jsr/* scope.
@jsr:registry=https://npm.jsr.io

# --- Peer dependency behavior ---
# Don’t blow up builds if peers are missing/misaligned.
strict-peer-dependencies=false
# Do install peer deps automatically when possible.
auto-install-peers=true

# --- Versioning and install behavior ---
# Always pin exact versions (no ^ or ~ ranges).
save-exact=true
# Don’t overwrite package-lock.json files accidentally.
use-lockfile=true

# --- Workspace / hoisting settings ---
# Share a single node_modules at the repo root where possible.
shared-workspace-lockfile=true
hoist-pattern[]=*
# Keep each workspace's own node_modules for tooling quirks (optional).
# hoist=false

# --- CI safety ---
# In CI, always use frozen lockfile to guarantee reproducibility.
# (set in scripts/CI, not here, but reminding)
#   pnpm install --frozen-lockfile

# --- Misc ---
# Speed up install by skipping git hooks in CI.
# enable-pre-post-scripts=false